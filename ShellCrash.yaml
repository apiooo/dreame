# ========================================================
# 1. ä»£ç†æºé…ç½® (Proxy Provider)
# ========================================================
proxy-providers:
  ProviderAirPort:
    url: "http://xxxxxxxxxxx"
    type: http
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300

proxies:
  - name: "ç›´è¿ž"
    type: direct
  - name: "æ‹’ç»"
    type: reject

# ========================================================
# 2. å…¨å±€åŸºç¡€ä¸Ž DNS è®¾ç½®
# ========================================================
port: 8888
socks-port: 8885
redir-port: 8886
mixed-port: 8887
tproxy-port: 8889
allow-lan: true
bind-address: "0.0.0.0"
ipv6: false
unified-delay: true
tcp-concurrent: true
log-level: info
mode: Rule
cfw-latency-url: 'http://cp.cloudflare.com/generate_204'
cfw-latency-timeout: 3000
cfw-latency-type: 1

profile:
  store-selected: true
  store-fake-ip: true

dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: false
  respect-rules: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - 1.1.1.1
    - 8.8.8.8
    - 223.5.5.5
  nameserver-policy:
    '+.baidu.com': [114.114.114.114]
    'rule-set:ChinaMedia,ChinaDomain': [223.5.5.5, 119.29.29.29]
  proxy-server-nameserver:
    - https://1.1.1.1/dns-query

# ========================================================
# 3. ç­–ç•¥ç»„é…ç½® (å·²æ•´åˆè¿½è§…ç­–ç•¥)
# ========================================================
proxy-groups:
  - name: ðŸš€ é»˜è®¤ä»£ç†
    type: select
    proxies: [ç›´è¿ž, æ‹’ç», è…¾è®¯äº‘, åŽä¸ºäº‘2, DMIT-S5, vl-reality-DMIT-24, ðŸš€ å›žå›½å‘¨è¾¹, ðŸŒ å…¨éƒ¨èŠ‚ç‚¹, ðŸŒ è‡ªåŠ¨é€‰æ‹©, ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹, ðŸ‡ºðŸ‡² ç¾Žå›½èŠ‚ç‚¹]

  - name: ðŸ›‘ å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies: [æ‹’ç», ç›´è¿ž]

  # >>> è¿½è§…ä¸“å±žç­–ç•¥ç»„ <<<
  - name: ðŸ§¹ è¿½è§…æ‰«åœ°æœº
    type: select
    proxies: [è…¾è®¯äº‘, åŽä¸ºäº‘2, ðŸš€ å›žå›½å‘¨è¾¹, ç›´è¿ž]

  - name: ðŸš€ æŠ–éŸ³
    type: select
    proxies: [ç›´è¿ž, è…¾è®¯äº‘, åŽä¸ºäº‘2, ðŸš€ å›žå›½å‘¨è¾¹, ðŸŒ å…¨éƒ¨èŠ‚ç‚¹]

  - name: ðŸš€ é˜¿é‡Œ
    type: select
    proxies: [ç›´è¿ž, è…¾è®¯äº‘, åŽä¸ºäº‘2, ðŸš€ å›žå›½å‘¨è¾¹]

  - name: ðŸš€ è…¾è®¯
    type: select
    proxies: [ç›´è¿ž, è…¾è®¯äº‘, åŽä¸ºäº‘2, ðŸš€ å›žå›½å‘¨è¾¹]

  - name: ðŸš€ å›žå›½
    type: select
    proxies: [ç›´è¿ž, è…¾è®¯äº‘, åŽä¸ºäº‘2, ðŸš€ å›žå›½å‘¨è¾¹]

  - name: ðŸ€ Google
    type: select
    proxies: [ðŸš€ é»˜è®¤ä»£ç†, ç›´è¿ž, ðŸ‡ºðŸ‡² ç¾Žå›½èŠ‚ç‚¹, ðŸŒ å…¨éƒ¨èŠ‚ç‚¹]

  - name: â“‚ï¸ Microsoft
    type: select
    proxies: [ç›´è¿ž, ðŸš€ é»˜è®¤ä»£ç†]

  - name: ðŸŽ è‹¹æžœæœåŠ¡
    type: select
    proxies: [ç›´è¿ž, ðŸš€ é»˜è®¤ä»£ç†]

  - name: ðŸ“² ç”µæŠ¥æ¶ˆæ¯
    type: select
    proxies: [ðŸš€ é»˜è®¤ä»£ç†, ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹, ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹]

  - name: ðŸš€ AI
    type: select
    proxies: [ðŸ‡ºðŸ‡² ç¾Žå›½èŠ‚ç‚¹, ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹]

  - name: ðŸŽ¶ ç½‘æ˜“éŸ³ä¹
    type: select
    proxies: [ç›´è¿ž, è…¾è®¯äº‘, åŽä¸ºäº‘2]

  - name: ðŸŽ¥ NETFLIX
    type: select
    proxies: [ðŸš€ é»˜è®¤ä»£ç†, ðŸŒ å…¨éƒ¨èŠ‚ç‚¹]

  - name: ðŸ“¹ YouTuBe
    type: select
    proxies: [ðŸš€ é»˜è®¤ä»£ç†, ðŸŒ å…¨éƒ¨èŠ‚ç‚¹]

  - name: ðŸŒ å›½å†…åª’ä½“
    type: select
    proxies: [ç›´è¿ž, ðŸš€ å›žå›½]

  - name: ðŸŒ å›½å¤–åª’ä½“
    type: select
    proxies: [ðŸš€ é»˜è®¤ä»£ç†, ðŸŒ å…¨éƒ¨èŠ‚ç‚¹]

  - name: ðŸŽ¯ ç›´è¿ž
    type: select
    proxies: [ç›´è¿ž, ðŸš€ é»˜è®¤ä»£ç†]

  - name: ðŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies: [ðŸš€ é»˜è®¤ä»£ç†, ç›´è¿ž, ðŸš€ å›žå›½]

  # --- åœ°åŒºä¸ŽæœåŠ¡å•†åˆ†ç»„ (Filter) ---
  - name: è…¾è®¯äº‘
    use: [ProviderAirPort]
    filter: "(?i)(è…¾è®¯äº‘)"
    type: select
  - name: åŽä¸ºäº‘2
    use: [ProviderAirPort]
    filter: "(?i)(åŽä¸ºäº‘2)"
    type: select
  - name: ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    use: [ProviderAirPort]
    filter: "(?i)(é¦™æ¸¯|æ¸¯|hk|hongkong)"
    type: select
  - name: ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹
    use: [ProviderAirPort]
    filter: "(?i)(æ–°åŠ å¡|å¡|sg|singapore)"
    type: select
  - name: ðŸ‡ºðŸ‡² ç¾Žå›½èŠ‚ç‚¹
    use: [ProviderAirPort]
    filter: "(?i)(ç¾Žå›½|ç¾Ž|us|united states)"
    type: select
  - name: ðŸš€ å›žå›½å‘¨è¾¹
    use: [ProviderAirPort]
    filter: "(?i)(é¦™æ¸¯|æ¸¯|hk|æ—¥æœ¬|jp|å°æ¹¾|tw|æ–°åŠ å¡|sg|éŸ©å›½|kr|åŽä¸ºäº‘)"
    type: select
  - name: ðŸŒ å…¨éƒ¨èŠ‚ç‚¹
    type: select
    include-all: true
  - name: ðŸŒ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    use: [ProviderAirPort]
    url: 'http://www.apple.com/library/test/success.html'
    interval: 300

# ========================================================
# 4. è§„åˆ™è®¢é˜… (Rule Providers)
# ========================================================
rule-providers:
  # >>> ä½ çš„è‡ªå®šä¹‰è¿½è§…è§„åˆ™è®¢é˜… <<<
  Dreame:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/apiooo/dreame/refs/heads/main/dreame.list"
    path: ./ruleset/dreame.yaml
    interval: 86400

  # --- ACL4SSR è§„åˆ™é›† ---
  LocalAreaNetwork:
    url: https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/LocalAreaNetwork.list
    behavior: classical
    format: text
    type: http
  BanAD:
    url: https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/BanAD.list
    behavior: classical
    format: text
    type: http
  Tencent:
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/refs/heads/master/Clash/Ruleset/Tencent.list
    behavior: classical
    format: text
    type: http
  Alibaba:
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Alibaba.list
    behavior: classical
    format: text
    type: http
  ByteDance:
    url: https://raw.githubusercontent.com/tindy2013/subconverter/master/base/rules/ACL4SSR/Clash/Ruleset/ByteDance.list
    behavior: classical
    format: text
    type: http
  GoogleFCM:
    url: https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/GoogleFCM.list
    behavior: classical
    format: text
    type: http
  Telegram:
    url: https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Telegram.list
    behavior: classical
    format: text
    type: http
  YouTube:
    url: https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/YouTube.list
    behavior: classical
    format: text
    type: http
  Netflix:
    url: https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/Netflix.list
    behavior: classical
    format: text
    type: http
  ChinaDomain:
    url: https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/ChinaDomain.list
    behavior: classical
    format: text
    type: http

# ========================================================
# 5. åˆ†æµè§„åˆ™ (Rules)
# ========================================================
rules:
  # 1. åŸºç¡€ç›´è¿ž
  - RULE-SET,LocalAreaNetwork,DIRECT,no-resolve
  
  # 2. è¿½è§…ç‰©ç†å°å£ (é’ˆå¯¹æ‰«åœ°æœºå›ºå®š IP)
  # è¯·åŠ¡å¿…åœ¨è·¯ç”±å™¨åŽå°å°†æœºå™¨äºº IP ç»‘å®šä¸º 192.168.31.50
  - SRC-IP-CIDR,192.168.31.50/32,ðŸ§¹ è¿½è§…æ‰«åœ°æœº

  # 3. è¿½è§…è®¢é˜…è§„åˆ™ä¸Ž User-Agent
  - RULE-SET,Dreame,ðŸ§¹ è¿½è§…æ‰«åœ°æœº
  - USER-AGENT,*Dreame*,ðŸ§¹ è¿½è§…æ‰«åœ°æœº
  - USER-AGENT,*Xiaomi*,ðŸ§¹ è¿½è§…æ‰«åœ°æœº
  - DOMAIN-SUFFIX,miot-spec.org,ðŸ§¹ è¿½è§…æ‰«åœ°æœº

  # 4. å…¶ä»–ä¸šåŠ¡é€»è¾‘
  - DOMAIN-SUFFIX,binance.com,ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹
  - RULE-SET,BanAD,ðŸ›‘ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,Tencent,ðŸš€ è…¾è®¯
  - RULE-SET,Alibaba,ðŸš€ é˜¿é‡Œ
  - RULE-SET,ByteDance,ðŸš€ æŠ–éŸ³
  - RULE-SET,GoogleFCM,ðŸ€ Google
  - RULE-SET,Telegram,ðŸ“² ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,YouTube,ðŸ“¹ YouTuBe
  - RULE-SET,Netflix,ðŸŽ¥ NETFLIX
  - RULE-SET,ChinaDomain,ðŸš€ å›žå›½
  
  # 5. å…œåº•
  - GEOIP,CN,ðŸš€ å›žå›½
  - MATCH,ðŸŸ æ¼ç½‘ä¹‹é±¼
